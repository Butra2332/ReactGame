(this.webpackJsonpgame=this.webpackJsonpgame||[]).push([[0],{31:function(e,a,t){e.exports={game:"Game_game__3EKrf",wrapper:"Game_wrapper__3bCnX",game__board:"Game_game__board__BTkI4",game__info:"Game_game__info__3DDhb",game__box:"Game_game__box__3CmEB",game__img:"Game_game__img__1hKDW",game__images:"Game_game__images__lp6Jl",game__current:"Game_game__current__28Niw",game__title:"Game_game__title__3HVfY",game__link:"Game_game__link__YiWtI"}},34:function(e,a,t){e.exports={form:"register_form__1jVcD",link:"register_link__2S4qY",register__name:"register_register__name__2vdEy",span:"register_span__31Mjd"}},35:function(e,a,t){e.exports={item:"Item_item__38Gdl",box:"Item_box__3v3a2",number:"Item_number__E1BZ9",img:"Item_img__2bxEH",images:"Item_images__Y-k1e",name:"Item_name__234Pc",point:"Item_point__ZgbrS"}},39:function(e,a,t){e.exports={board__row:"Board_board__row__3PvIL",status:"Board_status__2mi7j",square:"Board_square__14tXz","kbd-navigation":"Board_kbd-navigation__2T8H6"}},40:function(e,a,t){e.exports={wrapper:"rating_wrapper__35z7e",box:"rating_box__13Xlk",link:"rating_link__1f1gk"}},43:function(e,a,t){e.exports={title:"Title_title__2FI8r",text:"Title_text__1j-I9"}},58:function(e,a,t){e.exports={game__link:"Button_game__link__1oFhJ"}},63:function(e,a,t){},71:function(e,a,t){"use strict";t.r(a),t.d(a,"rerenderTree",(function(){return z}));var s=t(15),n=t.n(s),r=t(55),c=t.n(r),i=(t(63),t(5)),o=t(2),l=t(4),u=t(6),m=t(7),d=t(34),_=t.n(d),h=t(32),j=t(12),b=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(e){return Object(o.a)(this,t),a.call(this,e)}return Object(l.a)(t,[{key:"render",value:function(){return Object(j.jsx)("div",{className:"register",children:Object(j.jsxs)("div",{className:_.a.form,children:[Object(j.jsx)("input",{onChange:this.props.onChangeInput,name:"name",type:"text",placeholder:"Login",className:_.a.register__name}),Object(j.jsx)("input",{onChange:this.props.onChangeInput,name:"password",type:"text",placeholder:"Password",className:_.a.register__name}),this.props.hasAccount?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(h.b,{onClick:this.props.handleLogin,className:_.a.link,to:this.props.success?"/Game":"/",children:"Sign in"}),Object(j.jsxs)("p",{children:["Don't have an account? ",Object(j.jsx)("span",{className:_.a.span,onClick:this.props.LogIntoggle,children:" Sign up"})]})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{onClick:this.props.handleSignUp,className:_.a.link,children:"Sign up"}),Object(j.jsxs)("p",{children:["Have an account?",Object(j.jsx)("span",{className:_.a.span,onClick:this.props.SignUptoggle,children:" Sign in"})]})]})]})})}}]),t}(n.a.Component),g=t(31),p=t.n(g),x=t(58),f=t.n(x),O=function(e){var a=e.text,t=e.finishGame;return Object(j.jsx)(h.c,{className:f.a.game__link,to:"Rating",onClick:t,children:a})},v=t(39),k=t.n(v),N=t(17);var S=function(e){for(var a=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],t=0;t<a.length;t++){var s=Object(N.a)(a[t],3),n=s[0],r=s[1],c=s[2];if(e[n]&&e[n]===e[r]&&e[n]===e[c])return e[n];if(!e.includes(null))return"Square"}return null};function I(e){return Object(j.jsx)("button",{className:k.a.square,onClick:e.onClick,children:e.value})}var w=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(e){var s;return Object(o.a)(this,t),(s=a.call(this,e)).state={squares:Array(9).fill(null),xIsNext:!0},s}return Object(l.a)(t,[{key:"handleClick",value:function(e){var a=this.state.squares.slice();S(a)||a[e]||(a[e]=this.state.xIsNext?"X":"O",this.setState({squares:a,xIsNext:!this.state.xIsNext}))}},{key:"renderSquare",value:function(e){var a=this;return Object(j.jsx)(I,{value:this.state.squares[e],onClick:function(){return a.handleClick(e)}})}},{key:"render",value:function(){var e,a=S(this.state.squares);return a?(e="\u0412\u044b\u0438\u0433\u0440\u0430\u043b "+a,this.state={squares:Array(9).fill(null)}):e="\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0445\u043e\u0434: "+(this.state.xIsNext?"X":"O"),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:k.a.status,children:e}),Object(j.jsxs)("div",{className:k.a.board__row,children:[this.renderSquare(0),this.renderSquare(1),this.renderSquare(2)]}),Object(j.jsxs)("div",{className:k.a.board__row,children:[this.renderSquare(3),this.renderSquare(4),this.renderSquare(5)]}),Object(j.jsxs)("div",{className:k.a.board__row,children:[this.renderSquare(6),this.renderSquare(7),this.renderSquare(8)]})]})}}]),t}(n.a.Component),C=t(25),q=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(e){var s;return Object(o.a)(this,t),(s=a.call(this,e)).newGame=function(){var e=s.state.score;++e,s.setState({score:e})},s.finishGame=function(){var e=C.a.auth().currentUser.uid;C.a.database().ref("users/"+e).set({name:s.state.name,score:s.state.score}),setTimeout(z,500)},s.state={name:s.props.name,score:s.props.score},s}return Object(l.a)(t,[{key:"render",value:function(){return Object(j.jsx)("div",{className:p.a.game,children:Object(j.jsxs)("div",{className:p.a.wrapper,children:[Object(j.jsxs)("div",{className:p.a.game__board,children:[Object(j.jsxs)("div",{className:p.a.game__box,children:[Object(j.jsx)("div",{className:p.a.game__img,children:Object(j.jsx)("img",{className:p.a.game__images,src:"img/User.png"})}),Object(j.jsx)("div",{className:p.a.game__current,children:"".concat(this.props.name," ").concat(this.state.score,"-\u044f \u0438\u0433\u0440\u0430")})]}),Object(j.jsx)(w,{})]}),Object(j.jsxs)("div",{className:p.a.game__info,children:[Object(j.jsx)("p",{className:p.a.game__title,children:"The game"}),Object(j.jsx)("button",{className:p.a.game__link,onClick:this.newGame,children:"New game"}),Object(j.jsx)(O,{text:"Finish game",finishGame:this.finishGame})]})]})})}}]),t}(n.a.Component),G=t(40),y=t.n(G),L=t(43),U=t.n(L),A=function(e){return Object(j.jsxs)("div",{className:U.a.title,children:[Object(j.jsx)("p",{className:U.a.text,children:"Number"}),Object(j.jsx)("p",{className:U.a.text,children:"Player Profile"}),Object(j.jsx)("p",{className:U.a.text,children:"Points"})]})},B=t(35),P=t.n(B),E=function(e){var a=e.number,t=e.avatar,s=e.name,n=e.score;return Object(j.jsxs)("li",{className:P.a.item,children:[Object(j.jsx)("div",{className:P.a.number,children:a}),Object(j.jsxs)("div",{className:P.a.box,children:[Object(j.jsx)("div",{className:P.a.img,children:Object(j.jsx)("img",{className:P.a.images,src:t})}),Object(j.jsx)("div",{className:P.a.name,children:s})]}),Object(j.jsx)("div",{className:P.a.point,children:n})]})},T=function(e){var a=e.handleLogOut,t=[];C.a.database().ref("users/").on("value",(function(e){var a=e.val();Object.keys(a).map((function(e){return t.push(a[e])}))})),function(e){e.sort((function(e,a){return e.score<a.score?1:-1}))}(t);var s=1,n=t.map((function(e,a){for(var t=e.name,n=e.score;a<10;)return Object(j.jsx)(E,{number:s++,avatar:"img/User.png",name:t,score:n})}));return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:y.a.wrapper,children:[Object(j.jsxs)("div",{className:y.a.box,children:[Object(j.jsx)(h.c,{to:"/Game",className:y.a.link,children:"Play again"}),Object(j.jsx)(h.c,{to:"/",className:y.a.link,onClick:a,children:"Log out"})]}),Object(j.jsx)(A,{}),Object(j.jsx)("ul",{className:y.a.list,children:n})]})})},D=t(21),X=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(e){var s;return Object(o.a)(this,t),(s=a.call(this,e)).onChangeInput=function(e){var a=e.target,t=a.name,n=a.value;s.setState(Object(i.a)({},t,n))},s.handleSignUp=function(){var e=s.state,a=e.name,t=e.password;C.a.auth().createUserWithEmailAndPassword(a,t).then((function(e){alert("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b! \u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),s.setState({score:0});var t=C.a.auth().currentUser.uid;C.a.database().ref("users/"+t).set({name:a,score:s.state.score})})).catch((function(e){switch(e.code){case"auth/email-alredy-in-use":alert("\u0414\u0430\u043d\u043d\u044b\u0439 email \u0443\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f");break;case"auth/user-not-found":alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d");break;case"auth/invalid-email":alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email");break;case"auth/weak-password":alert("\u041d\u0435 \u043d\u0430\u0434\u0435\u0436\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c");break;case"auth/user-disabled":alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d");break;default:alert(e.message)}}))},s.handleLogin=function(){var e=s.state,a=e.name,t=e.password;C.a.auth().signInWithEmailAndPassword(a,t).then((function(e){var a=C.a.auth().currentUser;C.a.database().ref("users/"+a.uid).on("value",(function(e){var a=e.val();s.setState({success:!0,name:a.name,score:a.score})})),setTimeout(z,500)})).catch((function(e){switch(s.setState({success:!1}),e.code){case"auth/email-alredy-in-use":alert("\u0414\u0430\u043d\u043d\u044b\u0439 email \u0443\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f");break;case"auth/user-not-found":alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d, \u043f\u0440\u043e\u0439\u0434\u0438\u0442\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044e");break;case"auth/invalid-email":alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email");break;case"auth/weak-password":alert("\u041d\u0435 \u043d\u0430\u0434\u0435\u0436\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c");break;case"auth/user-disabled":alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d");break;default:alert(e.message)}}))},s.handleLogOut=function(){C.a.auth().signOut(),s.setState({success:!1})},s.SignUptoggle=function(){s.setState({hasAccount:!0})},s.LogIntoggle=function(){s.setState({hasAccount:!1})},s.state={name:"",password:"",hasAccount:!1,success:!1,score:0},s}return Object(l.a)(t,[{key:"render",value:function(){var e=this,a=this.state,t=a.hasAccount,s=a.name,n=a.success,r=a.score;return Object(j.jsx)(h.a,{children:Object(j.jsx)("div",{children:Object(j.jsxs)(D.c,{children:[Object(j.jsx)(D.a,{exact:!0,path:"/",render:function(){return Object(j.jsx)(b,{onChangeInput:e.onChangeInput,handleLogin:e.handleLogin,handleSignUp:e.handleSignUp,SignUptoggle:e.SignUptoggle,LogIntoggle:e.LogIntoggle,hasAccount:t,success:n})}}),Object(j.jsx)(D.a,{path:"/Game",render:function(){return Object(j.jsx)(q,{name:s,score:r})}}),Object(j.jsx)(D.a,{path:"/Rating",render:function(){return Object(j.jsx)(T,{handleLogOut:e.handleLogOut})}})]})})})}}]),t}(n.a.Component);C.a.initializeApp({apiKey:"AIzaSyDHb9g9LAMw5c4IeASp-ftvAUzP0XkPBbI",authDomain:"game-949ef.firebaseapp.com",databaseURL:"https://game-949ef-default-rtdb.europe-west1.firebasedatabase.app",projectId:"game-949ef",storageBucket:"game-949ef.appspot.com",messagingSenderId:"629742670142",appId:"1:629742670142:web:030e8973b4dde9d20c1c6f"});var z=function(){c.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(X,{})}),document.getElementById("root"))};z()}},[[71,1,2]]]);
//# sourceMappingURL=main.876351ce.chunk.js.map